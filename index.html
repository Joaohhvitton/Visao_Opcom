<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>VisÃ£o | OPCOM</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
<script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>

 <link rel="icon" type="img" sizes="32x32" href="Logo_OPCOM-removebg-preview.png"> 
<link rel="stylesheet" href="./style.css?v=3">
</head>

<body>

<!-- LOGIN -->
<div id="loginScreen" class="loginScreen">
  <div class="loginBgAnim"></div>

  <div class="loginBox pulseRed">
    <h2 class="loginTitle">OPCOM</h2>
    <span class="loginSubtitle">Painel de VisÃ£o</span>

    <input id="user" placeholder="UsuÃ¡rio">
    <input id="pass" type="password" placeholder="Senha">

    <button id="loginBtn">
      <span id="loginText" class="btnText">Entrar</span>
      <span class="btnLoader"></span>
    </button>

    <div id="loginError"></div>
  </div>
</div>

<!-- HEADER -->
<div class="header">
  <h2>VisÃ£o | OPCOM ðŸ“Š</h2>

  <div class="header-right">
    <div id="userBadge"></div>
    <button class="themeToggle" onclick="toggleTheme()" id="themeBtn">ðŸŒ™</button>
    <input type="file" id="upload" class="btn">
    <button id="exportBaseBtn" class="btn"><span class="btnLabel">Extrair Base</span><span class="btnSpinner" aria-hidden="true"></span></button>
    <button id="collaboratorBtn" class="btn">Demandas por Colaborador</button>
    <button id="tickerToggleBtn" class="btn">RodapÃ©: ON</button>
    <button class="btnLogout" onclick="logout()">Sair</button>
  </div>
</div>

<!-- KPI -->
<div class="kpiGrid">
  <div class="kpiCard">
    <div>Total Demandas</div>
    <div id="kpiTotal" class="kpiValue">0</div>
  </div>

  <div class="kpiCard">
    <div>ConcluÃ­das</div>
    <div id="kpiDone" class="kpiValue">0</div>
  </div>

  <div class="kpiCard">
    <div>% Bugs</div>
    <div id="kpiBug" class="kpiValue">0%</div>
  </div>
</div>


<!-- FILTRO -->
<div class="filterBlock modernFilter">
  <div class="filterLabel">Filtrar Squad</div>
  <div class="filterSelectWrap">
    <select id="squadFilter"></select>
  </div>
</div>

<!-- GRÃFICOS -->
<div class="grid">
  <div class="card"><h3>Demandas por Squad</h3><canvas id="squadChart"></canvas></div>
  <div class="card"><h3>Status</h3><canvas id="statusChart"></canvas></div>
  <div class="card"><h3>Tipos</h3><canvas id="tipoChart"></canvas></div>
  <div class="card"><h3>Prioridade</h3><canvas id="prioChart"></canvas></div>
</div>

<div id="welcomePopup" class="welcomePopup hidden">
  <div class="welcomeCard">
    <h3>Bem-vindo ao Painel OPCOM ðŸ‘‹</h3>
    <p>Agora os dados sÃ£o carregados automaticamente da base compartilhada para manter a visÃ£o Ãºnica entre as mÃ¡quinas.</p>
    <button id="welcomeOkBtn" class="btn">OK</button>
  </div>
</div>


<div id="logoutPopup" class="welcomePopup hidden">
  <div class="welcomeCard logoutCard">
    <h3>Tem certeza que deseja sair?</h3>
    <p>Ao confirmar, sua sessÃ£o serÃ¡ encerrada e vocÃª retornarÃ¡ para a tela de login.</p>
    <div class="logoutActions">
      <button id="logoutCancelBtn" class="btn btnGhost">Cancelar</button>
      <button id="logoutConfirmBtn" class="btn">Sair</button>
    </div>
  </div>
</div>

<div id="collaboratorPopup" class="welcomePopup hidden">
  <div class="welcomeCard collaboratorPopupCard">
    <h3>Demandas por Colaborador</h3>
    <p>Contagem de demandas por responsÃ¡vel, conforme squads associados.</p>
    <div id="collaboratorCards" class="kpiGrid collaboratorGrid"></div>
    <button id="collaboratorCloseBtn" class="btn">Fechar</button>
  </div>
</div>


<div class="collaboratorTicker" id="collaboratorTicker" aria-live="polite">
  <div class="collaboratorTickerTrack" id="collaboratorTickerTrack">
    Carregando demandas por colaborador...
  </div>
</div>

<script src="config.js"></script>
<script src="script.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Detalhes por Squad | OPCOM</title>
<link rel="icon" type="img" sizes="32x32" href="Logo_OPCOM-removebg-preview.png">
<link rel="stylesheet" href="./style.css?v=3">
<style>
  .detailsToolbar{display:flex;gap:10px;align-items:center;margin:10px 0 14px}
  .detailsTableWrap{overflow:auto;border-radius:14px;box-shadow:0 12px 28px rgba(0,0,0,.18)}
  .detailsTable{width:100%;border-collapse:collapse;background:#fff;color:#1e293b}
  .detailsTable th,.detailsTable td{padding:10px 12px;border-bottom:1px solid #e5e7eb;font-size:13px;text-align:left;white-space:nowrap}
  .detailsTable th{background:#f8fafc;position:sticky;top:0;z-index:1}
  .detailsMeta{margin:0 0 8px;font-weight:600;opacity:.9}
</style>
</head>
<body>
<div class="header">
  <h2>Detalhes por Squad ðŸ“‹</h2>
  <div class="header-right">
    <button class="btn" onclick="location.href='index.html'">Voltar ao Painel</button>
  </div>
</div>

<div class="filterBlock modernFilter">
  <div class="filterLabel">Filtrar Squad</div>
  <div class="filterSelectWrap">
    <select id="detailSquadFilter"></select>
  </div>
</div>

<p id="detailsMeta" class="detailsMeta">Carregando base...</p>

<div class="detailsTableWrap">
  <table class="detailsTable">
    <thead>
      <tr>
        <th>TÃ­tulo</th>
        <th>Squad/Team</th>
        <th>Status</th>
        <th>Tipo</th>
        <th>Prioridade</th>
        <th>ResponsÃ¡vel</th>
        <th>Data</th>
      </tr>
    </thead>
    <tbody id="detailsBody"></tbody>
  </table>
</div>

<script src="config.js"></script>
<script src="detalhes-squads.js"></script>
</body>
</html>
